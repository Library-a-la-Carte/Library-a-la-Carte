
<table>
 	<thead>
 		<tr>
 	<th class='shared'></th>	
	<th class= '<%= sort_th_class_helper "name" %>'  >  
        <%= sort_link_helper "Title", "name" %>
    </th>
	
 	<th><%= image_tag "spinner.gif", :id => "spinner_sort", :class => 'image', :alt => "Spinner", :style => 'display:none;'%></th>
	
	<th  class= '<%= sort_th_class_helper "date" %>'>
        <%= sort_link_helper "Last Update", "date" %></th>
	<th  class= '<%= sort_th_class_helper "publish" %> center'>
        <%= sort_link_helper "Published?", "publish" %></th>
	<th  class= '<%= sort_th_class_helper "archive" %> center'>
        <%= sort_link_helper "Archived?", "archive" %></th>
	</tr>
	
	</thead>
  <% for tutorial in @tutorials %>
     <tr class="<%= cycle('list-line-odd', 'list-line-even') %>" >
        <td class="center"  width ="5%">
       	
       	<%if tutorial.shared? == false%>
		  <%= link_to image_tag("/images/icons/user_add.png", :title => 'Click to share this tutorial', :alt => 'Share', :border => 0),  :action => 'share', :id => tutorial %>
		<%else%>
		  <%= link_to image_tag("/images/icons/users.png", :title => 'This Tutorial is Shared. Click to share this tutorial with others.', :alt => 'Share', :border => 0),  :action => 'share',  :id => tutorial %>
		<%end%>
       </td>
	   <td class= '<%= sort_th_class_helper "name" %>'  width ="40%"><%= truncate(h(tutorial.name),:length => 65) %>
	   </td>
	  <td  width ="15%">
       	<%= link_to image_tag("/images/icons/edit.png", :title => 'Edit this Tutorial', :alt => 'Edit', :border => 0), {:action => 'update',  :id => tutorial },:class =>'space'%> 
		| <%= link_to image_tag("/images/icons/document_preview.png", :title => 'Preview this Tutorial in a New Window', :alt => 'preview', :border => 0), { :controller => "ort", :action => 'index', :id => tutorial}, :popup => ['', 'height=800,width=980,toolbar=yes, scrollbars =yes,resizable=yes'], :class =>'space'%>
 		 | <%= link_to image_tag("/images/icons/application_add.png", :title => 'Copy this tutorial', :alt => 'Copy Tutorial', :border => 0),{ :action => 'copy',  :id => tutorial},:class =>'space' %> 
		| <%= link_to image_tag("/images/icons/remove.png", :title => 'Delete this tutorial', :alt => 'delete', :border => 0), { :action => 'destroy', :id => tutorial, :page => @page, :sort => @sort},:class =>'space', :confirm => 'Are you sure you want to delete this tutorial from your list?', :method => :post %>
       </td>
	   
       <td class= '<%= sort_th_class_helper "date" %>'  width ="15%"> <%= tutorial.updated_at.to_date%></td>
        <td class="center"  width ="5%">
        <% unless tutorial.published? %>
            <%= link_to image_tag("/images/icons/Minus.png", :title => 'Publish this tutorial', :alt => 'publish', :border => 0), {:action => 'publish', :id => tutorial, :page => @page, :sort => @sort}, :confirm => 'Are you sure you want to publish this tutorial?', :method => :post %> 
        <%else%> 
            <%= link_to image_tag("/images/icons/Plus.png", :title => 'Unpublish this tutorial', :alt => 'unpublish', :border => 0), {:action => 'publish', :id => tutorial,:page => @page, :sort => @sort}, :confirm => 'Are you sure you want to unpublish this tutorial?', :method => :post %> 
        <%end%>
		<td class="center"  width ="5%">
       <% unless tutorial.archived? %>
        	<%= link_to image_tag("/images/icons/Minus.png", :title => 'Archive this Tutorial', :alt => 'archive this tutorial', :border => 0), {:action => 'archive', :id => tutorial,:page => @pag, :sort => @sort}, :confirm => 'Are you sure you want to archive this tutorial?', :method => :post %> 
        <%else%> 
            <%= link_to image_tag("/images/icons/archive.png", :title => 'Remove from Archive', :alt => 'remove from archive', :border => 0), {:action => 'archive', :id => tutorial, :page => @pag, :sort => @sort}, :confirm => 'Are you show you want to remove this tutorial from archive?', :method => :post %> 
        <%end%>
		</td>
		
    </tr>
 <% end %>
</table>
<div class="pagination">
<%if !@all and @tutorials.total_pages > 1%>
	<ul>
		<li><%=will_paginate @tutorials, :params => params.merge({:sort=> @sort}).except(:authenticity_token)%></li>
		<li><%=link_to_remote 'show all', :loading => "Element.show('spinner_links')",
        :complete => "Element.hide('spinner_links')", :url => {:action => 'index_all', :sort => @sort },:update => 'table'%></li>
		  <li><%= image_tag "spinner.gif", :id => "spinner_links", :class => 'image', :alt => "Spinner", :style => 'display:none;'%></li>
	</ul>	  
<%elsif @all%>
	<ul>
		<li><%=link_to 'show less', :action => 'index', :sort => @sort %></li>
	</ul>	
<%end%>
</div>
